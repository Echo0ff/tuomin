import re

def split_text(text, max_length=20):
    # 使用更复杂的正则表达式以匹配中文句子结尾
    sentences = re.split(r'(?<=[。《》（）！？])', text)

    chunks = []
    current_chunk = ""

    for sentence in sentences:
        # 去除空字符串
        if not sentence.strip():
            continue

        # 检查当前块和新句子的总长度
        if len(current_chunk + sentence) <= max_length:
            current_chunk += sentence
        else:
            # 如果当前块加上新句子超过最大长度，先保存当前块
            if current_chunk:
                chunks.append(current_chunk)
            # 开始新的块
            current_chunk = sentence

    # 不要忘记添加最后一个块
    if current_chunk:
        chunks.append(current_chunk)

    return chunks

# 测试文本
text = '上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条上述行为不符合《国有土地上房屋征收与补偿条例》（2011国务院令第590号）第十七条'
print(split_text(text))



